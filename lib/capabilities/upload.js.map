{"version":3,"file":"upload.js","sourceRoot":"","sources":["../../src/capabilities/upload.ts"],"names":[],"mappings":"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"}