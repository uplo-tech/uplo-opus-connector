{"version":3,"file":"download.js","sourceRoot":"","sources":["../../src/capabilities/download.ts"],"names":[],"mappings":"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"}